import { useParams } from "react-router-dom";
import { allCountries } from "../data/VisitedCountries";
import BottomMenu from "../components/BottomMenu";
import "../styles/pagesStyles/CountryDetail.scss";

const CountryDetail = () => {
  const { name } = useParams();

  const country = allCountries.find(
    c => c.name.toLowerCase() === name?.toLowerCase()
  );

  if (!country) {
    return <h2>Country not found</h2>;
  }

  return (
    <div className="country-detail-page">
      <header className="header-country-detail">
        <button className="back-button" onClick={() => window.history.back()}>
      <svg 
        width="24" 
        height="24" 
        viewBox="0 0 24 24" 
        fill="currentColor"
      >
        <path d="M6.99486 7.00636C6.60433 7.39689 6.60433 8.03005 6.99486 8.42058L10.58 12.0057L6.99486 15.5909C6.60433 15.9814 6.60433 16.6146 6.99486 17.0051C7.38538 17.3956 8.01855 17.3956 8.40907 17.0051L11.9942 13.4199L15.5794 17.0051C15.9699 17.3956 16.6031 17.3956 16.9936 17.0051C17.3841 16.6146 17.3841 15.9814 16.9936 15.5909L13.4084 12.0057L16.9936 8.42059C17.3841 8.03007 17.3841 7.3969 16.9936 7.00638C16.603 6.61585 15.9699 6.61585 15.5794 7.00638L11.9942 10.5915L8.40907 7.00636C8.01855 6.61584 7.38538 6.61584 6.99486 7.00636Z" />
      </svg>
    </button>

        
        <img className="detail-image" src={country.image} alt={country.name} />

        <div className="header-box">
          <h1>{country.name}</h1>
          <img className="detail-flag" src={country.flag} alt={country.name} /> 
        </div>
      </header>

          
          
    <div className="detail-box">
      

      <div className="detail-info ">
        <div className="detail-text flag">
          <svg 
            viewBox="0 0 24 24" 
            fill="currentColor"
          >
            <path d="M5 1C4.44772 1 4 1.44772 4 2V22C4 22.5523 4.44772 23 5 23C5.55228 23 6 22.5523 6 22V14H19C19.3603 14 19.6927 13.8062 19.8702 13.4927C20.0477 13.1792 20.0429 12.7944 19.8575 12.4855L17.1662 8L19.8575 3.5145C20.0429 3.20556 20.0477 2.82081 19.8702 2.5073C19.6927 2.19379 19.3603 2 19 2L6 2C6 1.44772 5.55228 1 5 1ZM6 4V12H17.2338L15.1425 8.5145C14.9525 8.19781 14.9525 7.80219 15.1425 7.4855L17.2338 4H6Z"/>
          </svg>
          <p className="bold-info">Flag</p>
          <img className="info-flag" src={country.flag} alt={country.name} /> 
        </div>
        <div className="detail-text population">
          <svg 
            viewBox="0 0 24 24" 
            fill="currentColor"
          >
            <path d="M11 7C11 9.20914 9.20914 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3C9.20914 3 11 4.79086 11 7ZM4.97715 7C4.97715 8.11719 5.88281 9.02284 7 9.02284C8.11719 9.02284 9.02284 8.11719 9.02284 7C9.02284 5.88281 8.11719 4.97716 7 4.97716C5.88281 4.97716 4.97715 5.88281 4.97715 7Z M2.37162 14.2378C3.54371 13.3886 5.09751 13 7 13C8.90249 13 10.4563 13.3886 11.6284 14.2378C12.8188 15.1004 13.4914 16.3477 13.795 17.8079C14.1811 19.6647 12.5708 21 11 21H3C1.42922 21 -0.181121 19.6647 0.204962 17.8079C0.508602 16.3477 1.18119 15.1004 2.37162 14.2378ZM3.54511 15.8574C2.84896 16.3618 2.39073 17.1203 2.16308 18.2151C2.12425 18.4018 2.17618 18.5729 2.31828 18.7223C2.47041 18.8824 2.71717 19 3 19H11C11.2828 19 11.5296 18.8824 11.6817 18.7223C11.8238 18.5729 11.8757 18.4018 11.8369 18.2151C11.6093 17.1203 11.151 16.3618 10.4549 15.8574C9.74039 15.3397 8.65185 15 7 15C5.34815 15 4.25961 15.3397 3.54511 15.8574Z M21 7C21 9.20914 19.2091 11 17 11C14.7909 11 13 9.20914 13 7C13 4.79086 14.7909 3 17 3C19.2091 3 21 4.79086 21 7ZM14.9772 7C14.9772 8.11719 15.8828 9.02284 17 9.02284C18.1172 9.02284 19.0228 8.11719 19.0228 7C19.0228 5.88281 18.1172 4.97716 17 4.97716C15.8828 4.97716 14.9772 5.88281 14.9772 7Z M14.5361 13.2689C13.9347 13.4165 13.7248 14.1168 14.0647 14.6344L14.1075 14.6995C14.3593 15.0829 14.839 15.239 15.2891 15.1501C15.7787 15.0534 16.3451 15 17 15C18.6519 15 19.7404 15.3397 20.4549 15.8574C21.1511 16.3618 21.6093 17.1203 21.8369 18.2151C21.8758 18.4018 21.8238 18.5729 21.6817 18.7223C21.5296 18.8824 21.2828 19 21 19H16C15.4478 19 15 19.4477 15 20C15 20.5523 15.4478 21 16 21H21C22.5708 21 24.1811 19.6647 23.7951 17.8079C23.4914 16.3477 22.8188 15.1004 21.6284 14.2378C20.4563 13.3886 18.9025 13 17 13C16.0994 13 15.2769 13.0871 14.5361 13.2689Z"/>
          </svg>
          <p className="bold-info">Population</p>
          <p className="regular-info">{country.population}</p>
        </div>
        <div className="detail-text area">
          <svg 
            viewBox="0 0 24 24" 
            fill="currentColor"
          >
            <path d="M22 8C21.4477 8 21 7.55228 21 7V4.41421L14.7071 10.7071C14.3166 11.0976 13.6834 11.0976 13.2929 10.7071C12.9024 10.3166 12.9024 9.68342 13.2929 9.29289L19.5858 3H17C16.4477 3 16 2.55228 16 2C16 1.44772 16.4477 1 17 1H21C22.1046 1 23 1.89543 23 3V7C23 7.55228 22.5523 8 22 8Z M2 16C2.55228 16 3 16.4477 3 17V19.5858L9.29289 13.2929C9.68342 12.9024 10.3166 12.9024 10.7071 13.2929C11.0976 13.6834 11.0976 14.3166 10.7071 14.7071L4.41421 21H7C7.55228 21 8 21.4477 8 22C8 22.5523 7.55228 23 7 23H3C1.89543 23 1 22.1046 1 21V17C1 16.4477 1.44772 16 2 16Z" />
          </svg>
          <p className="bold-info">Area</p>
          <p className="regular-info">{country.area}</p>
        </div>
        <div className="detail-text capital">
          <svg 
            width="24" 
            height="24" 
            viewBox="0 0 24 24" 
            fill="currentColor"
          >
            <path d="M12.0036 14.0035C14.4889 14.0035 16.5036 11.9887 16.5036 9.50347C16.5036 7.01819 14.4889 5.00347 12.0036 5.00347C9.51831 5.00347 7.50359 7.01819 7.50359 9.50347C7.50359 11.9887 9.51831 14.0035 12.0036 14.0035ZM12.0036 12.0071C10.6209 12.0071 9.5 10.8862 9.5 9.50347C9.5 8.12077 10.6209 6.99988 12.0036 6.99988C13.3863 6.99988 14.5072 8.12077 14.5072 9.50347C14.5072 10.8862 13.3863 12.0071 12.0036 12.0071Z M21.272 11.5818C22.5649 5.78816 18.0052 0.00354004 12 0.00354004C5.99649 0.00354004 1.43639 5.7961 2.72816 11.5825C3.72523 16.2821 7.7572 20.8465 10.1636 23.2269C11.1942 24.2463 12.8058 24.2463 13.8364 23.2269C16.2429 20.8464 20.2752 16.2816 21.272 11.5818ZM12 2.00354C16.7124 2.00354 20.3368 6.58981 19.32 11.1462C18.8316 13.3355 17.7359 15.3015 16.4501 17.119C15.1064 19.0184 13.5829 20.6644 12.4299 21.805C12.1786 22.0536 11.8214 22.0536 11.5701 21.805C10.4171 20.6645 8.89379 19.0186 7.55009 17.1193C6.26419 15.3017 5.16886 13.3361 4.68011 11.1467C3.66438 6.59682 7.29012 2.00354 12 2.00354Z" />
          </svg>
          <p className="bold-info">Capital city</p>
          <p className="regular-info">{country.capital}</p>
        </div>
        <div className="detail-text continent">
          <svg 
            width="24" 
            height="24" 
            viewBox="0 0 24 24" 
            fill="currentColor"
          >
            <path d="M 12.9951 9.90096 C 15.2798 9.43957 17 7.42067 17 5 C 17 2.23858 14.7614 0 12 0 C 9.23857 0 6.99999 2.23858 6.99999 5 C 6.99999 7.42067 8.72019 9.43957 11.0048 9.90096 C 11.0016 9.93354 11 9.96658 11 10 V 19 C 11 19.5523 11.4477 20 12 20 C 12.5523 20 13 19.5523 13 19 V 10 C 13 9.96658 12.9984 9.93354 12.9951 9.90096 Z M 12 8.0065 C 10.3396 8.0065 8.9935 6.66044 8.9935 5 C 8.9935 3.33956 10.3396 1.9935 12 1.9935 C 13.6604 1.9935 15.0065 3.33956 15.0065 5 C 15.0065 6.66044 13.6604 8.0065 12 8.0065 Z M 4.78369 16.299 C 5.62603 15.6557 6.73206 15.2123 8.00216 15.0591 C 8.55047 14.993 8.99998 15.4477 8.99998 16 C 8.99998 16.5523 8.54907 16.9896 8.00393 17.0782 C 7.16144 17.215 6.4816 17.5189 5.99751 17.8885 C 5.32619 18.4012 5.09028 18.9788 5.12241 19.4288 C 5.15277 19.8538 5.44623 20.4684 6.50713 21.0185 C 7.57831 21.5739 9.33864 22 11.9999 22 C 14.6613 22 16.4216 21.5739 17.4928 21.0185 C 18.5537 20.4684 18.8472 19.8538 18.8775 19.4288 C 18.9097 18.9788 18.6738 18.4012 18.0024 17.8885 C 17.5184 17.5189 16.8385 17.215 15.996 17.0782 C 15.4509 16.9896 15 16.5523 15 16 C 15 15.4477 15.4495 14.993 15.9978 15.0591 C 17.2679 15.2123 18.3739 15.6557 19.2163 16.299 C 20.2637 17.0988 20.9653 18.2712 20.8724 19.5712 C 20.7778 20.8962 19.8838 22.0316 18.4134 22.794 C 16.9533 23.5511 14.8387 24 11.9999 24 C 9.16123 24 7.04656 23.5511 5.58649 22.794 C 4.11615 22.0316 3.22212 20.8962 3.12749 19.5712 C 3.03464 18.2712 3.73625 17.0988 4.78369 16.299 Z" />
          </svg>
          <p className="bold-info">Continent</p>
          <p className="regular-info">{country.continent}</p>
        </div>
      </div>
      <iframe className="detail-map"  allowFullScreen src={`https://maps.google.com/maps?q=${encodeURIComponent(country.name)}&t=&z=5&ie=UTF8&iwloc=&output=embed`} />
      
      </div>
      <BottomMenu />
    </div>
  );
};

export default CountryDetail;
